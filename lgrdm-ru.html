<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta name="GENERATOR" content="Mozilla/4.79 (Macintosh; U; PPC) [Netscape]">
   <title>Leningrad-M - Alex J. Lowry's Electronics Homepage</title>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
</head>
<body text="#000000" link="#0000FF" vlink="#800080" background="water2.gif">
<a href="index-ru.html"><img SRC="logo1.gif" height=107 width=640></a>
<hr WIDTH="100%"><img SRC="lgdmlogo.gif" ALT="Leningrad-M logo" NOSAVE height=98 width=640>
<h2>
<i><font face="Arial,Helvetica">Ленинград-М</font></i></h2>
Язык:&nbsp;<a href="lngrad-m.html"><img SRC="icons/flag-us.gif" ALT="US" NOSAVE height=18 width=30 align=ABSCENTER></a><a href="lngrad-m.html"><img SRC="icons/flag-gb.gif" ALT="GB" NOSAVE height=18 width=30 align=ABSCENTER></a><a href="lngrad-m.html"> English</a> |&nbsp;<img SRC="icons/flag-ru.gif" ALT="RU" NOSAVE height=18 width=30 align=ABSCENTER> Русский
<p>Эта статья была переведена с помощью компьютера. Если вы хотите помочь улучшить перевод, пожалуйста, напишите мне.
<br>Мой адрес электронной почты указан на главной странице.
<p><b>Больше фотографий можно посмотреть на этой <a href="imgs-lgm.html">этой странице.</a></b>
<h4>
<i><font face="Arial,Helvetica">Вступление</font></i></h4>
<a href="photos/lgdm1_fs.jpg"><img SRC="photos/lgdm1_th.jpg" ALT="Leningrad-M in operation" NOSAVE height=220 width=320 align=RIGHT></a>Sinclair ZX Spectrum - один из самых распространенных клонированных компьютеров. Уже в середине 1980-х годов люди занимались обратной разработкой ULA, пользовательской микросхемы, которая обеспечивала Spectrum большую часть его функциональности. Многие из этих ранних клонов были созданы в странах, где оригинальный Spectrum было трудно найти, обычно из-за международных торговых ограничений.
<p>Самым ярким примером этого был Советский Союз и Восточный блок. Хотя в этой части мира уже существовали доступные самодельные компьютеры, в коммунистические времена редко существовал финансовый стимул для написания видеоигр, поэтому был стимул разработать компьютер, который мог бы запускать сотни <i>(если не тысячи)</i> игр для Spectrum, написанных на Западе.
<p>Из-за проблем с поставками в советское время такой компьютер должен был быть разработан с использованием самых доступных деталей, но при этом быть доступным для скромной средней зарплаты в СССР.
<p>В СССР было разработано множество Spectrum-совместимых компьютеров, но самым популярным стал «ленинградский вариант», разработанный Сергеем Зоновым в 1988 году. Этот дизайн нашел свое применение в десятках серийных компьютеров по всему СССР и оставался на рынке вплоть до 1990-х годов.
<p>Когда ретро-компьютеры стали более массовым увлечением, цена оригинального оборудования Sinclair выросла настолько, что собрать свой собственный Spectrum стоит примерно столько же, сколько купить оригинальный.
<p>«Ленинград-М» - это моя вторая копия компьютера «Ленинград». Я заменил все редкие микросхемы на более распространенные, исправил аппаратные ошибки, уменьшил размер печатной платы и сократил количество компонентов. В результате компьютер можно собрать из <b><i>38 микросхем,</i></b> что удивительно мало для клона ZX Spectrum, в котором не используется программируемая логическая матрица.
<h4>
<i><font face="Arial,Helvetica">Техническое описание</font></i></h4>
<a href="photos/lgdm4_fs.jpg"><img SRC="photos/lgdm4_th.jpg" ALT="Leningrad-M system PCB" NOSAVE height=213 width=320 align=RIGHT></a>Хотя «Ленинград-М» не на 100% совместим с оригинальным ZX Spectrum, я обнаружил, что он работает с удивительно широким спектром программ, включая демо-версии, основанные на непонятных трюках программирования. Протестировав свой Leningrad-M с приличным количеством программ, я бы сказал, что 97-98% из них работают без каких-либо проблем.
<p>Композитный видеовыход - монохромный. Разъем DE-9 в правой верхней части печатной платы можно использовать для подключения цветных видеоадаптеров, таких как <a href="nimf4-ru.html">НИМФ-4,</a> который выводит композитное видео с кодировкой PAL.
<p>Следует отметить, что если вы живете в стране, где стандартом является NTSC, у вас могут возникнуть проблемы с синхронизацией вашего монитора с сигналом 50 Гц, который генерирует этот компьютер. Возможно, это можно исправить, используя более быстрый кристаллический осциллятор и регулируя перемычки «ширина границы» на печатной плате, но я этого не проверял.
<p>Я постарался сделать этот компьютер настолько простым в сборке, насколько это возможно. Стоимость почти каждого компонента <i>(за исключением контактных головок и двух разъемов)</i> напечатана на шелкографии, так что можно собрать его целиком, не сверяясь со спецификацией материалов.
<p>Для упрощения конструкции <i>(и снижения
затрат)</i> верхняя и нижняя части системной
платы, чувствительные к статическому электричеству,
могут быть защищены без необходимости
изготовления корпуса. Печатная плата клавиатуры
предназначена для крепления поверх системной
платы с помощью стандартных нейлоновых
винтов M3. Поскольку большинство производителей
печатных плат требуют, чтобы вы заказывали
минимум 5 плат для каждого дизайна, вы можете
использовать одну из запасных печатных
плат для клавиатуры, чтобы закрыть нижнюю
часть системной печатной платы.
<p>Клавиатура и системная печатная плата крепятся друг к другу 7 нейлоновыми винтами M3. В клавиатуре есть дополнительное отверстие для винта, который проходит через клавиатуру и располагается на верхней части системной печатной платы. Они предназначены для придания устойчивости конструкции - идеально подходят для динамичных экшн-игр!
<h4>
<i><font face="Arial,Helvetica">Создание клавиатуры</font></i></h4>
<a href="photos/lgrd4_fs.jpg"><img SRC="photos/lgrd4_th.jpg" ALT="Keyboard labels" NOSAVE height=213 width=320 align=RIGHT></a>ZX
Spectrum был разработан задолго до того, как
были стандартизированы раскладки клавиатуры.
Кроме того, каждая клавиша соответствует
нескольким основным командам, которые
напечатаны на клавишах. К сожалению, никто
не выпускает совместимые с Cherry MX клавиатуры
с напечатанными на них командами ZX Spectrum,
поэтому вам придется создавать свои собственные.
<p>Я пришел к выводу, что лучший способ сделать
это - заказать колпачки для кнопок (кейкапы) со съемными
прозрачными крышками (такие же часто встречаются
на торговых терминалах) и распечатать этикетки,
которые можно вырезать и вставить в колпачки.
Такие кейкапы можно
недорого заказать на eBay или AliExpress, введя
поисковый запрос «прозрачные колпачки
для кнопок».
<p>В результате получаются прочные кейкапы
профессионального вида (в зависимости
от того, насколько хорошо вы умеете вырезать),
которые не изнашиваются со временем.
<p>Готовые изображения наклеек на клавиши
можно загрузить ниже по странице. Я разработал
их на основе сочетания <a href="photos/lgrd6_fs.jpg">оригинальной
клавиатуры Spectrum</a> и наклеек из <a href="photos/lgrd5_fs.jpg">советского
компьютерного набора «Сделай сам»</a> <i>(который
был создан на базе «Ленинграда-1»).</i>
<p>Всего на печатной плате клавиатуры 40
клавиш шириной 1х в оригинальной раскладке
ZX Spectrum и один пробел шириной 6,25х. Для сборки
клавиатуры вам понадобятся:
<ul>
<li>
5-контактные клавишные переключатели, совместимые
с Cherry MX <b>(x41)</b> - <i>3-контактные переключатели
также подойдут, но их сложнее равномерно
закрепить на печатной плате.</i></li>

<li>
прозрачный кейпап ширины 1x 
<b>(x40)</b></li>

<li>
Пробел шириной 6,25x, совместимый с Cherry MX
<b>(x1)</b></li>

<li>
Стабилизатор с пробелом шириной 6,25x, совместимый
с Cherry MX <b>(x1)</b> - <i>По-видимому, существует
в двух вариантах: для монтажа на панели
и для монтажа на печатной плате. В нашем случае 
подходит только последний.
</i></li>
</ul>
Технически клавиша «пробел» не является
обязательной, поскольку на клавиатуре
сохранена угловая клавиша «пробел», как
на оригинальной Spectrum.
<p>Я работаю над клавиатурой уменьшенного
размера, которая использует небольшие
тактильные переключатели в качестве более
дешевой альтернативы, но механическая
клавиатура обеспечивает гораздо более
удобный ввод текста.
<h4>
<i><font face="Arial,Helvetica">Запись ПЗУ</font></i></h4>
<a href="photos/eprm1_fs.jpg"><img SRC="photos/eprm1_th.jpg" ALT="27128 EPROM" NOSAVE height=198 width=320 align=RIGHT></a>Если
у вас еще нет программатора для ПЗУ, установка
Sinclair Бейсик в ПЗУ может оказаться сложной
задачей.
<p>По умолчанию в «Ленинграде-М» используются
оригинальные данные ПЗУ Sinclair, записанные
в ПЗУ 27128. Возможно использование некоторых
других моделей ПЗУ, обычно, если двоичный
файл записан на верхнюю 16 КБ часть чипа.
<p><a href="eprom-ru.html">На этой странице я написал
подробное руководство о том, как начать
программировать ПЗУ,</a> с рекомендациями
о том, какой программатор купить, и списком
других микросхем, которые можно использовать
вместо 27128.
<p>В руководстве по программированию ПЗУ
также есть коллекция альтернативных ПЗУ с Бейсиком,
доступных для скачивания.
<h4>
<i><font face="Arial,Helvetica">Схема</font></i></h4>
Одна вещь, которая особенно привлекла меня к воссозданию этого клона ZX Spectrum, - это то, что схема относительно проста для понимания, несмотря на ее сложность. Я аннотировал схему в меру своих возможностей, чтобы помочь объяснить, как работает «Ленинград-М» на самом низком уровне.
<p>Схему можно загрузить в формате PDF в разделе
«Загрузки» на этой странице.
<h4>
<i><font face="Arial,Helvetica">Получение программного
обеспечения</font></i></h4>
<a href="photos/lgdm6_fs.jpg"><img SRC="photos/lgdm6_th.jpg" ALT="Complete setup" NOSAVE height=208 width=320 align=RIGHT></a>Кассетный
интерфейс «Ленинграда-1» совместим с оригинальными
кассетами ZX Spectrum, за исключением того, что
мне не удалось подключить кассеты с быстрой
загрузкой. Обычно это не проблема, поскольку
многие программы переиздавались несколько
раз, и обычно существует по крайней мере
одна версия без быстрой загрузки.
<p>Большинство программ Spectrum распространяются
онлайн в виде файлов TAP или TZX - это двоичные
версии потока данных с магнитной ленты.
Эти файлы предназначены в первую очередь
для использования с эмуляторами, и загрузка
их на реальное оборудование может быть
затруднена.
<p>Существует множество программ, которые
могут конвертировать эти файлы в более
универсальные стандартные аудиоформаты.
Моя любимая - k7zx для Windows, которую вы можете
скачать ниже по странице. Это программа
2008 года выпуска, поэтому она должна работать
на версиях Windows, начиная с XP <i>(возможно, 2000),</i>
и она хорошо работает на моем компьютере
с Windows 10.
<h4>
<i><font face="Arial,Helvetica">Изменения</font></i></h4>
<i>Revision 0:</i>
<br>Моя реплика «Ленинграда-1», как показано <a href="lngrd-ru.html">здесь.</a>
<p><i>Revision 1:</i>
<br>Первый «Ленинград-М», как видно на фотографиях.
<ul>
<li>
Микросхемы ОЗУ 64 кбит x 1 заменены на микросхемы 64 кбит x 4. Их требуется всего 2, а не 8.</li>

<li>
Схема загрузки ленты заменена на более простую схему от «Ленинграда-2».</li>

<li>
Интерфейс джойстика Sinclair реализован на печатной плате клавиатуры.</li>

<li>
Разъем RGB/аудио заменен на DE-9, что позволяет подключать адаптеры (например, <a href="nimf4-ru.html">этот</a>) напрямую, без кабелей.</li>

<li>
Разъем SCART удален. В будущем я планирую разработать адаптер SCART.</li>

<li>
Устройства ввода/вывода теперь включаются только при низких значениях A0 и A5, что предотвращает конфликт команд Yamaha AY со схемой ввода/вывода.</li>
</ul>
<i>Revision 2:</i>
<br>Небольшое исправление, улучшающее длительность импульса уровня черного. Я проверил это исправление на своей системе «Revision 1» с помощью провода-перемычки. Это версия, доступная для загрузки ниже по странице.
<h4>
<i><font face="Arial,Helvetica">Загрузки</font></i></h4>
Если вы хотите создать свой собственный «Ленинград-М», вам понадобятся файлы для изготовления печатной платы и наклеек на клавиатуру.
<p><a href="download/lngrad-m/leningrad-m-kbd-r1-bom.html"><img SRC="icons/bom.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-kbd-r1-bom.html"> Список компонентов - клавиатура (интерактивная)</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>HTML документ, 527 КБ</i> - Список всех компонентов, которые понадобятся для сборки печатной платы клавиатуры.
<p><a href="download/lngrad-m/leningrad-m-r2-bom.html"><img SRC="icons/bom.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-r2-bom.html"> Список компонентов - система (интерактивная)</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>HTML документ, 843 КБ</i> - Список всех компонентов, которые понадобятся для сборки системной печатной платы.
<p><a href="download/lngrad-m/leningrad-m-kbd-r1-sch.pdf"><img SRC="icons/sch.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-kbd-r1-sch.pdf"> Схема клавиатуры</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>PDF документ, 319 КБ</i> - Моя схема для клавиатуры.
<p><a href="download/lngrad-m/leningrad-m-r2-sch.pdf"><img SRC="icons/sch.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-r2-sch.pdf"> Схема системы</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>PDF документ, 2,60 МБ</i> - Моя схема для Ленинграда-М, в основном с комментариями на английском языке.
<p><a href="download/lngrad-m/leningrad-m-kbd-r1-gerbers.zip"><img SRC="icons/pcb.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-kbd-r1-gerbers.zip"> Печатная плата клавиатуры Герберы</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 338 КБ</i> - Печатная плата для клавиатуры, совместимой с Cherry MX.
<p><a href="download/lngrad-m/leningrad-m-r2-gerbers.zip"><img SRC="icons/pcb.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-r2-gerbers.zip"> Системная печатная плата Герберы</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 1,05 МБ</i> - Печатная плата для самого компьютера.
<p><a href="download/lngrad-m/keyboard.png"><img SRC="icons/img.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/keyboard.png"> Надписи на клавиатуре</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>PNG изображение, 718 КБ</i> - Этикетки для печати на клавиатуре. Перед печатью измерьте, сколько места остается под колпачками для клавиш - на изображении есть инструкция по разрешению на дюйм, которая поможет подобрать этикетки нужного размера. Убедитесь, что этикетки вырезаны с внутренней стороны черных контуров.
<p><a href="download/leningrd/rom/sinclair-1982.bin"><img SRC="icons/bin.gif" NOSAVE height=24 width=24></a><b><a href="download/leningrd/rom/sinclair-1982.bin"> Sinclair Бейсик ПЗУ</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>BIN data, 16,0 КБ</i> - Оригинальная Бейсик программа Sinclair 1982 года выпуска.
<h4>
<i><font face="Arial,Helvetica">Дополнительные загрузки</font></i></h4>
<a href="photos/lgrd9_fs.jpg"><img SRC="photos/lgrd9_th.jpg" ALT="Boot screen close up" NOSAVE height=187 width=320 align=RIGHT></a>Эти дополнительные загрузки предназначены в основном для тех, кто хочет изменить файлы, указанные выше.
<p><a href="download/lngrad-m/wav-pack.zip"><img SRC="icons/zip.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/wav-pack.zip"> Программное обеспечение ZX Spectrum - WAV аудио стартовый пакет</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 24,6 МБ</i> - Коллекция программ Spectrum, предварительно преобразованных в формат WAV. Пожалуйста, обратите внимание, что общий размер этого архива в несжатом виде составляет <b>392 МБ!</b>
<p><a href="download/lngrad-m/leningrad-m-kbd-r1-kicad.zip"><img SRC="icons/kicad.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-kbd-r1-kicad.zip"> Печатная плата клавиатуры - Файлы KiCad</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 827 КБ</i> - Полезно, если вы хотите внести изменения в печатную плату клавиатуры. Сделано с помощью KiCad 9.
<p><a href="download/lngrad-m/leningrad-m-r2-kicad.zip"><img SRC="icons/kicad.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-r2-kicad.zip"> Системная печатная плата - файлы KiCad</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 3,41 МБ</i> - Полезно, если вы хотите внести изменения в системную печатную плату. Сделано с помощью KiCad 9.
<p><a href="download/lngrad-m/keyboard.xcf"><img SRC="icons/img.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/keyboard.xcf"> Надписи на клавиатуре</a></b>
<br>&nbsp;&nbsp;&nbsp; <i><a href="https://www.gimp.org">GIMP</a> XCF изображение, 5,24 МБ</i> - Полезно, если вы хотите создать свои собственные надписи на клавиатуре.
<p><a href="download/lngrad-m/leningrad-m-logo-otk.png"><img SRC="icons/img.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-logo-otk.png"> Логотип «Ленинграда-М» (20630 x 3148 пиксели, прозрачный) (Со знаком качества СССР)</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>PNG изображение, 792 КБ</i> - Логотип в верхней части страницы в полном разрешении.
<p><a href="download/leningrd/leningrad-m-logo.png"><img SRC="icons/img.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/leningrad-m-logo.png"> Логотип «Ленинграда-М» (20630 x 3148 пиксели, прозрачный) (Без знака качества СССР)</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>PNG изображение, 643 КБ</i> - Логотип в верхней части страницы в полном разрешении.
<p><a href="download/lngrad-m/fonts.zip"><img SRC="icons/zip.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/fonts.zip"> Пользовательские шрифты</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 297 КБ</i> - Пользовательские шрифты, используемые для файлов KiCad и надписей XCF. Требуется только в том случае, если вы хотите изменить эти файлы.
<p><a href="download/lngrad-m/k7zx_win_bin_4.3.zip"><img SRC="icons/win.gif" NOSAVE height=24 width=24></a><b><a href="download/lngrad-m/k7zx_win_bin_4.3.zip"> k7zx 4.3</a></b>
<br>&nbsp;&nbsp;&nbsp; <i>ZIP архив, 1,00 МБ</i> - Удобная утилита для Windows для преобразования файлов эмулятора TAP/TZX Spectrum в воспроизводимые аудио форматы WAV/MP3. Ее также можно скачать <a href="https://worldofspectrum.net/utilities/#tzxtools">здесь.</a>
<p>
<hr WIDTH="100%">Спасибо:
<br>&nbsp;&nbsp;&nbsp; Сергею Зонову за разработку оригинальных компьютеров «Ленинград».
<br>&nbsp;&nbsp;&nbsp; Александру Зану (<a href="https://sblive.narod.ru">sblive.narod.ru</a>) за полезные технические подробности и схемы.
<br>&nbsp;&nbsp;&nbsp; Сергею Багану (<a href="https://zxbyte.ru">zxbyte.ru</a>) за многие усовершенствования схемы и за большинство файлов ПЗУ.
<br>&nbsp;&nbsp;&nbsp; Михаилу Тарасову (<a href="http://micklab.ru">micklab.ru</a>) за полезные технические подробности и схемы.
<br>&nbsp;&nbsp;&nbsp; Константину Айги (<a href="https://www.cxemateka.ru">cxemateka.ru</a>) за усовершенствования схемы и пошаговое руководство по устранению неполадок при сборке компьютера.
<br>&nbsp;&nbsp;&nbsp; Сергею Фролову (<a href="http://www.leningrad.su">leningrad.su</a>) за фотографии советских клонов ZX Spectrum (и за отличный музей советской электроники).
<br>&nbsp;&nbsp;&nbsp; Ричарду Габору Тарьяну (<a href="http://users.atw.hu/zxspectrum">users.atw.hu/zxspectrum</a>) за чрезвычайно подробную историю клонирования ZX Spectrum.
<br>&nbsp;&nbsp;&nbsp; Александру Цидаеву (<a href="https://github.com/atsidaev">github.com/atsidaev</a>) за помощь в переводе этой страницы на русский язык.
<br>&nbsp;&nbsp;&nbsp; Телеграм-группа «Scorpion ZS &amp; Leningrad» (<a href="https://t.me/zs_scorpion">t.me/zs_scorpion</a>) за рекомендации по улучшению моего первого «Ленинграда».
<p>Последнее обновление от 17 мая 2025 года.
<br>Эта страница была впервые загружена 13 мая 2025 года.
</body>
</html>
